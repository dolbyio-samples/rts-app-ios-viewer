<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (100% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
        Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Guides.html">Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="readme.html">README</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CurrentCreds.html">CurrentCreds</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/FileCreds.html">FileCreds</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MillicastManager.html">MillicastManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MillicastSA.html">MillicastSA</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PubListener.html">PubListener</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SavedCreds.html">SavedCreds</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SubListener.html">SubListener</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UiCreds.html">UiCreds</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Utils.html">Utils</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/Bitrate.html">Bitrate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CaptureState.html">CaptureState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PublisherState.html">PublisherState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SourceType.html">SourceType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/SubscriberState.html">SubscriberState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CredentialSource.html">CredentialSource</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Constants.html">Constants</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ContentView.html">ContentView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MCSwiftVideoRenderer.html">MCSwiftVideoRenderer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Millicast_SDK_Sample_App_in_SwiftApp.html">Millicast_SDK_Sample_App_in_SwiftApp</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PublishView.html">PublishView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PublishView_Previews.html">PublishView_Previews</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SettingsMcView.html">SettingsMcView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SettingsView_Previews.html">SettingsView_Previews</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SubscribeView.html">SubscribeView</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SubscribeView_Previews.html">SubscribeView_Previews</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <p>The Swift Sample App (SA) demonstrates how the Millicast Objective C SDK can be used in a Swift project to publish/subscribe to/from the Millicast Platform.</p>
<h1 id='millicast-sdk' class='heading'>Millicast SDK:</h1>

<ul>
<li>To use this SA, select an appropriate Millicast SDK from our list of <a href="https://github.com/millicast/millicast-native-sdk/releases">releases</a>.</li>
</ul>
<h1 id='opening-the-sa' class='heading'>Opening the SA</h1>

<ol>
<li>The SA can be opened with Xcode.</li>
<li>In Xcode -&gt; File -&gt; Open&hellip;</li>
<li>Select the SA project file <strong><em>SwiftSa.xcworkspace</em></strong>.</li>
</ol>
<h1 id='install-the-millicast-objective-c-sdk' class='heading'>Install the Millicast Objective C SDK</h1>
<h2 id='ways-to-add-the-sdk' class='heading'>Ways to add the SDK</h2>

<ul>
<li>There are currently three ways to add the Millicast Objective C SDK, as shown below.</li>
<li>Proceed with <strong>only one</strong> of these ways at any one time.</li>
</ul>
<h3 id='add-sdk-framework-file-manually' class='heading'>Add SDK framework file manually.</h3>

<ol>
<li>Download the selected version of SDK file from the list of release indicated above.

<ul>
<li>After uncompressing the archive, the SDK framework can usually be found as a package named <strong><em>MillicastSDK.xcframework</em></strong>.</li>
</ul></li>
<li>Open the SA in Xcode as detailed in the earlier section (<strong>Opening the SA</strong>).</li>
<li>Add the Millicast SDK framework file into the project via the project editor

<ol>
<li>Open the project editor settings.

<ul>
<li>In the Project navigator, click on the project name (at the top most level)</li>
</ul></li>
<li>Under the list of TARGETS, select your desired target, for e.g. &ldquo;<strong><em>SwiftSa iOS</em></strong>&rdquo; or &ldquo;<strong><em>SwiftSa tvOS</em></strong>&rdquo;.</li>
<li>Go to General -&gt; Frameworks, Libraries, and Embedded Content.</li>
<li>Add the new MillicastSDK framework:

<ol>
<li>Click the &ldquo;+&rdquo; icon, which will pop up a window to select the new framework.</li>
<li>Click &ldquo;Add Other&hellip;&rdquo; at the bottom, and then &ldquo;Add Files&hellip;&rdquo;.</li>
<li>Navigate to where the new <strong><em>MillicastSDK.xcframework</em></strong> is and select to &ldquo;Open&rdquo; this file.</li>
<li><strong><em>MillicastSDK.xcframework</em></strong> should now appear in the list of &ldquo;Frameworks, Libraries, and Embedded Content&rdquo;.</li>
</ol></li>
<li>Repeat the steps above for any other target(s), that needs to add the new MillicastSDK.</li>
</ol></li>
<li>Embed and sign the framework (for each target)

<ol>
<li>Open the project editor and select the desired target.</li>
<li>Go to General -&gt; Frameworks, Libraries, and Embedded Content.</li>
<li>Ensure the Millicast SDK framework&rsquo;s Embed value is &ldquo;<strong>Embed &amp; Sign</strong>&rdquo;.</li>
</ol></li>
<li>Validate Workspace (for each target)

<ol>
<li>Open the project editor and select the desired target.</li>
<li>Go to the Build Settings -&gt; Validate Workspace</li>
<li>Ensure the value is &ldquo;<strong>Yes</strong>&rdquo;.</li>
</ol></li>
</ol>
<h3 id='add-sdk-via-cocoapods' class='heading'>Add SDK via CocoaPods.</h3>
<h4 id='sa-usage' class='heading'>SA usage</h4>

<ul>
<li>The required CocoaPods settings listed below are mainly for reference, as they have already been set up in the SA.</li>
<li>The only action required to use the SA is as follows:

<ol>
<li>Ensure CocoaPods is installed on your system.

<ul>
<li><a href="https://guides.cocoapods.org/using/getting-started.html">CocoaPods installation</a></li>
</ul></li>
<li>Close the SA if it is opened in Xcode.</li>
<li>On the command line, at the level of the <strong><em>Podfile</em></strong>, perform:

<ol>
<li>For first time installation of SDK via CocoaPods:
<code>
pod install
</code></li>
<li>For upgrade of SDK previously installed via CocoaPods:
<code>
pod update
</code></li>
</ol></li>
<li>Open the SA in Xcode as detailed in the earlier section (<strong>Opening the SA</strong>).</li>
</ol></li>
</ul>
<h4 id='cocoapods-settings' class='heading'>CocoaPods settings</h4>

<ul>
<li>The following have already been set up in the SA.</li>
<li>If you wish to add the SDK to your own app, you can follow the following steps.</li>
<li>CocoaPods details:

<ul>
<li>pod name: <code>MillicastSDK</code></li>
</ul></li>
<li><p>To create an iOS target:</p>

<ul>
<li><p>In <strong><em>Podfile</em></strong>, add:</p>
<pre class="highlight ruby"><code>    <span class="n">target</span> <span class="s1">'SwiftSa iOS'</span> <span class="k">do</span>
      <span class="n">platform</span> <span class="ss">:ios</span><span class="p">,</span> <span class="s1">'14.5'</span>
      <span class="c1"># Comment the next line if you don't want to use dynamic frameworks</span>
      <span class="n">use_frameworks!</span>
      <span class="c1"># Pods for SwiftSa iOS</span>
      <span class="n">pod</span> <span class="s1">'MillicastSDK'</span>
    <span class="k">end</span>
</code></pre></li>
</ul></li>
<li><p>To create a tvOS target:</p>

<ul>
<li><p>In <strong><em>Podfile</em></strong>, add:</p>
<pre class="highlight ruby"><code>    <span class="n">target</span> <span class="s1">'SwiftSa tvOS'</span> <span class="k">do</span>
      <span class="n">platform</span> <span class="ss">:tvos</span><span class="p">,</span> <span class="s1">'14.5'</span>
      <span class="c1"># Comment the next line if you don't want to use dynamic frameworks</span>
      <span class="n">use_frameworks!</span>
      <span class="c1"># Pods for SwiftSa tvOS</span>
      <span class="n">pod</span> <span class="s1">'MillicastSDK'</span>
    <span class="k">end</span>
</code></pre></li>
</ul></li>
<li><p>Where for all types of targets:</p>

<ul>
<li>The pod line <code>pod &#39;MillicastSDK&#39;</code> targets the latest version of SDK available on CocoaPods.</li>
<li>The platform line <code>platform :ios, &#39;14.5&#39;</code> or <code>platform :tvos, &#39;14.5&#39;</code> targets iOS or tvOS version 14.5. This version may be adjusted upwards according to needs.</li>
<li>To target a specific version of the SDK, change the pod line by following the instructions <a href="https://guides.cocoapods.org/using/the-podfile.html#specifying-pod-versions">here</a>.

<ul>
<li>For example, to use version 1.1.3 or higher, but lower than 1.2.0, you can change the pod line to:
<code>ruby
      pod &#39;MillicastSDK&#39;, &#39;~&gt; 1.1.3&#39;
</code></li>
</ul></li>
</ul></li>
<li><p>Continue with the steps in the previous section (<strong>SA usage</strong>) to install the SDK via CocoaPods.</p></li>
</ul>
<h3 id='add-sdk-via-swift-package-manager-spm' class='heading'>Add SDK via Swift Package Manager (SPM).</h3>

<ol>
<li>Open the SA in Xcode as detailed in the earlier section (<strong>Opening the SA</strong>).</li>
<li>For adding the SDK via SPM, please follow the instructions <a href="https://github.com/millicast/millicast-sdk-swift-package">here</a>.</li>
</ol>
<h1 id='run-the-sa' class='heading'>Run the SA</h1>

<ol>
<li>Before running the SA, it is recommended to populate the Millicast credentials in the <strong><em>Constants.swift</em></strong> file.</li>
<li>It is also possible to enter or change the credentials when the SA is running, at the Settings page.</li>
<li>On Xcode, click on the Run button to run the SA on the device of your choice.</li>
</ol>
<h1 id='to-publish-using-the-sa' class='heading'>To publish using the SA</h1>

<ol>
<li>To publish video, a device with a camera is required. Simulators will therefore not be able to publish video.</li>
<li>Ensure the publishing credentials are populated.</li>
<li>Go to the Publish page.</li>
<li>If desired, tap on the camera description and/or resolution description to cycle through the available cameras and resolutions.</li>
<li>Click &ldquo;Capture&rdquo; to start capturing on the selected camera, at the selected resolution.

<ul>
<li>If capturing is successful, the local video can be seen on the screen.</li>
</ul></li>
<li>If desired to switch to another camera, click on &ldquo;Switch Camera&rdquo;.</li>
<li>To mute/unmute audio or video, toggle the respective buttons.

<ul>
<li>This affects both the captured/published media, as well as the subscribed media on Subscriber(s).</li>
</ul></li>
<li>Click &ldquo;Publish&rdquo; to publish the captured video to Millicast.</li>
<li>To stop publishing, click &ldquo;Stop Publish&rdquo;.</li>
</ol>
<h1 id='to-subscribe-using-the-sa' class='heading'>To subscribe using the SA</h1>

<ol>
<li>Ensure the subscribing credentials are populated.</li>
<li>Go to the Subscribe page.</li>
<li>Click &ldquo;Subscribe&rdquo; to start subscribing to the Millicast stream specified at Settings page.</li>
<li>To mute/unmute audio or video, toggle the respective buttons.

<ul>
<li>This affects only the subscribed media on this Subscriber, and not on other Subscriber(s) or the Publisher.</li>
</ul></li>
<li>To stop subscribing, click &ldquo;Stop Subscribe&rdquo;.</li>
</ol>
<h1 id='settings-page' class='heading'>Settings page</h1>

<ul>
<li>Account setting changes on the UI are not applied until the apply button is tapped.

<ul>
<li>Setting fields change color to alert user when UI values differ from applied values.</li>
</ul></li>
<li>Subscribe Token

<ul>
<li>If the publisher settings requires a secure viewer, a valid Subscribe Token has to be set.</li>
<li>If a secure viewer is <strong>not</strong> required:</li>
<li>The following values for the Subscriber Token field are acceptable:

<ul>
<li>Completely blank (no white spaces).</li>
<li>A valid Subscriber Token.</li>
</ul></li>
<li>Any other values may result in failure to connect.</li>
<li>More details on Subscribe Token <a href="https://docs.dolby.io/streaming-apis/docs/secure-viewer-api#create-a-subscribe-token">here</a>.</li>
</ul></li>
</ul>
<h1 id='miscellaneous' class='heading'>Miscellaneous</h1>

<ul>
<li>The SA enables Background Mode for &ldquo;<a href="https://developer.apple.com/documentation/avfoundation/media_playback/creating_a_basic_video_player_ios_and_tvos/enabling_background_audio">Audio, AirPlay, and Picture in Picture</a>&rdquo;.

<ul>
<li>This allows the SA to continue subscribing and not lose its connection to the Millicast backend when it is moved to the background for any reason.</li>
<li>SA also adds the AVAudioSession mixWithOthers category option.</li>
<li>This allows playing in the background without interrupting other Apps&rsquo; audio.</li>
</ul><div class="aside aside-note">
    <p class="aside-title">Note</p>
    Mute SA subscribed audio when not desired in the background.

</div></li>
<li>When publishing, the SDK will set the AVAudioSession to the playAndRecord category, with voiceChat mode and allowBluetooth option.

<ul>
<li>If desired, the App can configure the AVAudioSession with its own settings.</li>
<li>To see how the SA does this, please refer to these methods:</li>
<li>MillicastSA.swift: MillicastSA.setupNotifications()</li>
<li>Utils.swift: Utils.configureAudioSession()</li>
</ul></li>
</ul>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2022-12-13)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
